Deixa eu falar brevemente, pelo menos brevemente, aqui no tempo que me resta aqui, de um tópico que eu tô chamando de governança.

Eu não vou conseguir falar tudo que eu quero, mas vou indicar algumas leituras depois para vocês fazerem, tá? Que é importante aqui, eu quero definir pelo menos um termo, tá? Quero definir um termo e aí depois eu passo leituras para vocês, para vocês, que aqui é um uma grande confusão também.

A ideia de governança que eu quero que eu quero colocar é como que a gente faz para mudar regras de consenso. Essa é essa é a pergunta. é um mecanismo de consenso. Como que eu faço para mudar as regras

se a gente concordar que tem que mudar as regras? Essa é a pergunta, tá? Na maioria dos dos casos dos sistemas, tem o dono do sistema, ele implementa atualização, todo mundo baixa o software novo e pronto. Algumas vezes você continua funcionando com, ah, não quero atualizar e continua funcionando. Na maioria das vezes que acontece, se tá usando um software muito antigo, se, tipo, você precisa desassa acessar um servidor, alguma coisa, o servidor simplesmente fala: "Ah, não, você sua versão do seu software é muito antiga, não vou te não vou te atender, não atualiza." aí e aí ele te força a atualizar, certo? Qual é o problema aqui? Aqui não tem nenhum mecanismo para eu forçar a atualização de ninguém. Cada um faz o que quiser. Cada um segue a regra que quiser, em princípio, tá? Então, mesmo que as pessoas todas se reúnam e a gente fala: "Beleza, é assim que a gente vai fazer?" Aí isso ainda é um problema. Isso ainda é um problema, porque a gente precisa deum mecanismo para coordenar essa mudança do protocolo na das pessoas começarem a rodar o software novo com regra nova, tá? E aí eu quero definir aqui dois tipos de consenso, dois tipos de mudanças que podem acontecer. Só tem dois tipos de mudanças, tá? Tem o que a gente vai chamar de hard fork e tem o que a gente vai chamar de soft fork.

Soft fork, tá? O que que é um hard? O hardk é uma mudança nas regras que afrouxa as regras, que torna coisas que eram inválidas, antes eram inválidas, tornam algumas coisas válidas depois da mudança. Repara que tinha coisas inválidas que passam a ser válidas, tá? E o que que é um soft fork? É o contrário, é o é o titaning, como é que fala isso em português?

É tipo você apertar as regras, deixar as regras mais difíceis, mais restritivas, mais restritas, você restringir as regras, isso tá que é o contrário. Ou seja, é você falar, tinha algumas coisas que eram válidas antes e a gente vai tornar elas inválidas, tá? Eu eu pessoalmente eu gosto de enxergar isso como sendo uns um conjunto. Tem um conjunto de transações e blocos que são válidos. Hoje tem um uma grande conjunto de todas as transações e todos os blocos que são potencialmente válidos hoje, tá? O que que é um hardk? O hardk é a gente criar um aumentar esse conjunto aqui, ó. Fazer alguma coisa assim, por exemplo, tá? ou fazer alguma coisa assim, ó. Mesmo que o azul seja menor do que o preto, tem coisas que eram inválidas que agora serão válidas. Isso aí é um hard fork, tá? Ao contrário, o soft fork é estreitamento das regras, é mais restrito. Quer dizer que do todo o universo de transações e blocos válidos, esse universo diminuiu.

Isso é o soft. É, mas é assim, esse é o soft, esse é o hard. Todo mundo OK? Por que essa diferenciação? Tá, porque o hardk ele é incompatível com o passado e o softwk é compatível com o passado. Que que quero dizer com isso? Olha essa transação que tá aqui. O preto é antes da mudança, tá? E os coloridos é depois da mudança. O preto, o essa transação ela era válida antes da mudança e ela continua válida depois da mudança. Essa transação azul, essa transação roxa lá azul aqui nova, ela era válida antes, mas ela não é válida agora. Isso quer dizer que os blocos, os nós que fizerem upgrade, eles vão rejeitar essa transação agora. Mas repare que os nós antigos eles estão tudo bem com isso.

Quem não fez upgrade não foi afetado aqui, porque tudo que os nós novos vão fazer tá aqui dentro, ó.

Tudo que os nós novos estão fazendo, os antigos estão aceitando. Repare, é isso que eu tô dizendo que é compatível com o passado. Eu não tô dizendo que o que os antigos fizerem, eu vou continuar aceitando. Afinal, tô de estreitando ass, deixando mais difícil. Eu tô eliminando coisas, tá? Só que eu tô tentando mudar as regras sem expulsar os nós antigos, sem obrigar eles a fazer o upgrade. E é assim que eu faço. Eu passo a tudo que eu fizer ser estritamente válido com o que já acontecia antes. Pronto. Aí eu não expulsei ninguém da rede. Ao contrário, o hard fork. Os nós novos, se eles fizerem uma transação aqui, ó, o nó antigo vai rejeitar. O nó antigo vai rejeitar, tá? Expulsando os nós antigos. E aí, se eu tiver muitos nós novos e poucos nós antigos, na prática, eu tô expulsando os nós novos da rede. Eles vão rejeitar blocos e transações que t essa transação vermelha e eles vão, a blockchain deles vai caminhar para um outro, um outro caminho e isso nunca mais vai voltar, nunca mais vai ser reconciliado. Todo mundo OK? Então, beleza. Isso, isso é o que a gente tá tentando fazer o tempo todo, descobrir se uma mudança é compatível com o passado ou não é compatível com o passado. Se é um soft fork, um hard fork, tá? Exemplo de soft fork, exemplo histórico de soft fork. Entre 2009 e 2010, o Satoshi era o ditador benevolente do projeto. Era ele que resolvia a por toda, ele que fazia o software, ele que decidia em última instância as regras e todo mundo fazia o que ele mandava, tá? Até que ele sumiu em 2010. E aí a coisa começou a se descentralizar desse ponto de vista, desenvolvimento do software, tá? Mas isso foi ao aos poucos. Enfim, eu comentei aqui com vocês no início da aula, no início do do do protocolo não tinha limite do tamanho de bloco. Em 2009, 2010, o Satos foi lá e botou o limite de um de 1 mega. Ele não perguntou para ninguém, ele só atualizou o software, falou: "Ô, galera, atualiza aí". Basicamente foi isso, tá? E aí, pum, você atualizou aquela parada. Era uma época que os blocos eram muito vazios, não tinha ninguém usando aquele negócio. Era uma piada ainda, era uma brincadeira, era um experimento, tá? Com o tempo os blocos começaram a ficar começar a ficar mais cheio, começar a ficar mais cheio, começar a ficar mais cheio. Lá pro voto de 2015, 14, 15, tava começando a ter mais movimento de transações, o Satos já tinha sumido. E aí começou a se discutir, [ __ ] acho que seria bem interessante começar a ter blocos, a gente ter blocos maiores de que 1 me só que blocos maiores do que 1 me quer dizer que quer dizer afrouxar a regra, quer dizer que uma coisa que era inválida, um bloco de 10 m, por exemplo, passar a ser válido. Isso é um hard fork, tá? Dá para fazer hard fork? Dá para fazer hard fork. O Satos fez vários hards aí, vários. É um exagero, mas o Satos fez hards. A gente fez um hardfk recente que ninguém nem ficou sabendo, que é extremamente técnico, provavelmente nunca vai dar problema, tá? Assim, para dar problema precisa reorganizar tipo anos de da blockchain. Então assim, mas aconteceu um hardfock recente, esse ano, esse ano ano passado por agora que foi o história do checkpoints lá na hora de sincronizar. Enfim, tem uma atualização sobre isso que eu não vou explicar o te que que exatamente, que é bem bem técnico, é um detalhe do detalhe do detalhe, tá? Mas de vez em quando acontece hardcop, não é necessariamente vai dar problema tal, tá?

Que que eu tava falando? Ah, tá lá para 2014, 2015 começou essa discussão. Vou aumentar o tamanho do bloco. Vamos aumentar o tamanho do bloco, tá? Exemplo de hard fork que aconteceu em 2017.

2017 teve uma proposta de e foi implementado e algumas pessoas começaram a rodar o software novo, que chama, hoje a gente chama de Bitcoin Cash, que é um é o mesmo sistema com a uma única regra mudada que é agora a gente pode blocos de até 8 M. O que que aconteceu naquele momento? Esse é um hard, tá? em algum momento tinha uma blockchain do Bitcoin que tava progredindo aqui, tava progredindo. Aí lançou o Bitcoin cash, o outro cliente e algumas pessoas começaram a participar e começou a minerar em cima com essa regra nova. Em algum momento um minerador minerou um bloco com maior de com mais de 1 mega, porque ele é válido nessa regra nova. Que que aconteceu? Esse bloco aí ele é válido lá pro Bitcoin, para essa nova conta de regras, mas ele é inválido, inválido para todo mundo que não fez o upgrade. Todo mundo que não fez o upgrade ficou no azul. E aí essa, isso aqui é o que a gente de split na rede, passou a ter duas blockchains e elas nunca mais vão se reconciliar, porque para reconciliar a gente precisaria reorganizar até esse bloco aqui, ó. Isso aqui hoje são, sei lá, 10 anos, mais de 10 anos de blocos. Isso não vai acontecer, tá? Isso não vai acontecer. Isso não vai acontecer. Tudo bem? Exemplo de hard que aconteceu, tá? Que esse caso é bem emblemático. Por quê? Porque um dos caras que tava propôs e ajudou a implementar é um é um sujeito chamado Gavin Anderson. É o Gevin. O Gevin é o sucessor do Satosch. Quando o Satos saiu, o Gevin virou o líder do desenvolvimento da parada. Ele por algum tempo, ele era meio que o o o ditador benevolente do projeto. Ele meio que assumiu a coisa do Satoshi, tá? Tinha outras pessoas trabalhando com ele, tal, mas ele era basicamente o cara que mandava e todo mundo respeitava. Ele é um cara extremamente respeitável, inclusive hoje, tá? Não tô dizendo que ele não é, tá? Mas ele é um dos caras que propôs isso aqui, ajudou a implementar e ajudou a tentar convencer as pessoas e os minerador e um monte de gente e a coisa toda, tá? O que que aconteceu hoje? Tem Bitcoin Cash? Tem, tem Bitcoin Cash e tem o Bitcoin. Qual é a rede que vocês Qual é a rede que que é a maior blockchain aqui hoje, mais importante de todas? Bitcoin. Do Bitcoin, tá? É a do Bitcoin. Basicamente um experimento, vou chamar assim, economicamente um experimento falido, né? Experimento fracassado, tá? Mas é uma rede que tá rodando, tá funcionando até hoje. É basicamente a mesma coisa que tudo que a gente tá vendo aqui agora, com blocos maiores. Transformou-se em outra moeda. É outra moeda. É outra moeda. Entendeu? Repare que a o histórico da moeda é a moeda aqui. [Música] Não é só o que acontece, o que acontece hoje, é o que acontece também no histórico inteiro, a bloqueia inteira, tá? E aí isso aqui virou efetivamente duas moedas. Hoje tem Bitcoin, tem Bitcoin cash, tá? Inclusive fenômenos bem curiosos que seriam bem estranhos pra gente. Se eu tinha um Bitcoin aqui nesse nesse nessa altura do bloco, imagina que eu tinha uma XO de um Bitcoin, eu passei a ter uma XO de um Bitcoin nessa chain e uma um Bitcoin de e uma XO de um Bitcoin cash nessa outra chain. Eu passo a ter dinheiro nas duas. Ela tem um histórico em comum. Em algum momento eu tinha dinheiro, eu passei a ter dinheiro nas duas. É o mesmo histórico até em algum momento ali, eu recebi dinheiro em algum momento e as duas concordam que eu recebi dinheiro em algum momento antes do split, tá? Em parte, o que que aconteceu? Foi acontecendo ao longo do tempo, um monte de gente que tinha Bitcoin aqui foi migrando para cá, foi vendendo Bitcoin, foi vendendo Bitcoin cash e comprando Bitcoin. Hã, literalmente fabricando de tipo assim, ela as duas redes, aí ela atendeu na alta rede também ela vendeu e comprou. Isso é, você pode fazer isso inclusive. Aí você tem Bitcoin agora, você pode tentar lançar uma um Bitcoin, sei lá, o Edil Cocoin, que é só um fork do Bitcoin com uma regra diferente que vai dar um um split. Todo mundo que tem Bitcoin hoje tem edilcoin também, se for seguir nesse caminho aí. E aí você pode tentar convencer todo mundo a vender aqui, eu fazer, entendeu? Se você achar alguém comprador para isso, né? Não tô dizendo para vocês fazerem, mas pode acontecer, tá? Que foi o que aconteceu aqui? Tudo igual. exceto o tamanho dos blocos. Exceto o tamanho dos blocos que é maior, tá? Ã, que que é? O que que não pegou o tamanho do bloco maior? Tamanho do bloco maior em parte não pegou porque tinha uma tinha uma proposta concorrente a esta. Existe na época existia um consenso de se aumentar o tamanho dos blocos, tá? Não é? E consenso generalizado assim. Basicamente todo mundo queria aumentar os blocos. Era a posição majoritária de todo mundo, minerador, usuário, usuário nem nem necessariamente, mas assim, node runners, exchange, todo mundo queria que aumentasse o tamanho dos blocos. O que nós concordava era aumentar para quanto e e qual a regra de aumento, porque no Bitcoin Cash não era só aumentar para 8 meg estático, ele tinha uma regra de ir aumentando ao longo do tempo, tá? O que não se concordava era com isso, com com a parametrização. Nessa mesma época aqui foi proposto o que a gente chama de seg, que é um aumento do tamanho do bloco mais feito na forma de um soft fork. Eu não vou ter tempo de explicar agora como é que funciona, mas eu pretendo em algum momento explicar, porque basicamente tod a maior parte das transações hoje são segot,

que é o a versão dois do seg, tá? E é interessante ver como isso foi feito com softwk, porque é bem difícil fazer um soft fork mexendo nesse tipo de regra, tudo bem? Mas por enquanto importante é guardar isso. Hard forks e soft forks compatível e incompatível com o passado, tá? Só para fechar aqui, em algum momento vai ter hardk no Bitcoin obrigatoriamente, porque tem pelo menos duas coisas que vão acontecer em algum momento que precisam ser mexidas, precisam ser consertadas, entre aspas, tá? E não tem como consertar com soft fork. Uma delas é eventualmente pode ter computação quântica, eventualmente pode ser que a gente precise mexer na na no algoritmo de assinatura ou ou no hash ou alguma coisa. Toda cripto tem meio que uma data de validade, não é para durar para sempre, tá? Mas mais importante do que isso, porque tem data já mais ou menos certa, é, vocês lembram que tem um time stamp no cabeçalho do bloco? Time stamp são 32 bits aqui. 32 bits aqui. E aí Unix time. Então isso aqui tem data para acabar. O o a data que a gente consegue guardar aqui tem dia para acabar, pra gente não conseguir mais representar a data, tá? Nesse momento a gente vai precisar fazer alguma coisa, mudar alguma coisa aqui. Hã, 2000, não sei, daqui a muitos anos, mas eu não sei exatamente. Depois eu te digo essa conta. Tempo de vida nosso é não, acho que é é não é muitos anos assim, acho que eu não vou ver isso acontecendo, mas não é não é do tipo assim, 1000 anos, não é é daqui a pouco, mas é um daqui a pouco, daqui alguns muitos anos, tá? décadas. Tranquilo. A gente vai precisar fazer alguma coisa a respeito disso. OK, eu não faço a menor ideia, mas a gente vai precisar mexer nisso aqui. E mexer nisso aqui, se a gente mexer isso aqui, por exemplo, aumentar isso aqui para 64 bits, que resolve esse problema por um, tipo assim, a unidade do universo, tá? Aí resolveu o problema. Isso aqui invalida todos os blocos do passado. Isso aqui é um hardf, reparem. Então, a gente vai precisar fazer alguma coisa. Eu não sei se a gente vai ter como fazer isso, resolver isso com um soft fork. Eu não sei. Eu não sei. Ninguém apareceu com uma proposta até agora. Se tivesse aparecido, a gente tava provavelmente trabalhando em cima dela agora. Sacou? Mas isso aqui é um problemão que vai provavelmente requerer um hard. A gente vai precisar resolver essa parada. Então assim, cuidado na hora de falar assim: "Ah, não é para fazer hard fork, não é para fazer forte for". Cara, acontece for meio que com alguma frequência.

Deixa eu encerrar a aula que aí a gente e aí a gente coisa. O que que eu não comentei, eu vou passar algum material de leitura para vocês. É, ao longo da história, a gente usou vários mecanismos para se coordenar para fazer essa esses forques aqui, para falar assim, beleza, agora tá valendo a regra nova, tá? Porque uma coisa é implementar o software, outra coisa é as pessoas usarem o software. Eu não posso obrigar ninguém a usar o software, tá? E aí vou passar alguns materiais porque teve pelo menos três formas diferentes de fazer que é sinalização dos mineradores que aconteceu no no todos os forques anteriores eram antes antes do segadores sinalizando se aconteceu ou não. Depois que foi a pressão do Segut, os usuários forçando os mineradores a fazer o upgrade. E no te já foi um mecanismo diferente que a gente chamou de speed trial, tá? que envolv que era um misto das duas coisas, tipo, os mineradores sinalizavam, mas se eles demorarem para sinalizar, a gente meio que força a barra, os usuários, tá? E e aí a gente comenta um pouco mais na próxima aula, porque tem muita coisa interessante que tá aqui, tá? Deixa eu encerrar a aula aqui para não bagunçar o horário. 31.